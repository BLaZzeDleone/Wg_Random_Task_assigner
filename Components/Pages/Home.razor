@page "/"
@inject WG_Random_Task_assigner.Tool.Task_Assigner_Class TaskAssigner

<h2 class="page-title">WG Aufgabenplan</h2>

@for (int weekOffset = 0; weekOffset < 3; weekOffset++)
{
    var assignments = TaskAssigner.GetAssignmentsForWeek(weekOffset);

    <h3 class="week-title">Woche: @TaskAssigner.GetWeekLabel(weekOffset)</h3>

    <div class="people-container">
        @foreach (var person in Personen)
        {
            var data = assignments[person];

            <div class="person-card">
                <div class="person-header">@person</div>

                <div class="person-content">
                    <div class="field">
                        <span class="label">Bereich:</span>
                        <span class="value">@data.Bereich</span>
                    </div>

                    <div class="field">
                        <span class="label">Tasks:</span>
                        <ul class="task-list">
                            @foreach (var t in data.Tasks)
                            {
                                <li>@t</li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        }
    </div>
}

@code {
    private List<string> Personen = new WG_Random_Task_assigner.Object_Folder.WG_Mitglieder().mitglieder;
}
